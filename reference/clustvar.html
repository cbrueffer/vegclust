<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cluster variance — clustvar • vegclust</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cluster variance — clustvar"><meta property="og:description" content="Computes the variation in community composition (i.e. beta diversity) found within the sites of a set of hard or fuzzy clusters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vegclust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/MedRegExample.html">Describing vegetation in terms of structure and composition</a>
    </li>
    <li>
      <a href="../articles/VegetationClassification.html">How to use the vegclust package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cluster variance</h1>
    
    <div class="hidden name"><code>clustvar.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes the variation in community composition (i.e. beta diversity) found within the sites of a set of hard or fuzzy clusters.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">x</span>, cluster <span class="op">=</span> <span class="cn">NULL</span>, defuzzify<span class="op">=</span><span class="cn">FALSE</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>Community data. Either a site-by-species matrix or a site-by-site matrix of compositional distances between sites  (i.e., an object of class <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code>). Alternatively, this can be an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code>, and in this case it is unnecessary to provide <code>cluster</code>.</p></dd>

  <dt>cluster</dt>
<dd><p>A vector indicating the hard membership of each object in <code>x</code> to a set of groups.</p></dd>

  <dt>defuzzify</dt>
<dd><p>A flag indicating whether fuzzy memberships should be defuzzified (see function <code><a href="defuzzify.html">defuzzify</a></code>). Only applies to the case where an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code> is supplied in <code>x</code>.</p></dd>

  <dt>...</dt>
<dd><p>Additional parameters for function <code><a href="defuzzify.html">defuzzify</a></code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function can be used in two ways:</p><ul><li><p>if <code>x</code> is a data matrix (site by species or distances among sites) and <code>cluster</code> is <code>null</code>, the function assumes a single cluster of all points in <code>x</code>. When <code>cluster</code> is provided, the function computes cluster variance for each (hard) group and this computation implies setting the centroid of the group. Cluster variance is defined as the average squared distance to the centroid.</p></li>
<li><p>If <code>x</code> is an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code>, the function uses the information contained there (distances to cluster centers, memberships and exponent of fuzziness) in order to compute cluster variances. Cluster centers do not need to be recomputed, and the distances to cluster centers are used directly. For centroid-based cluster models (KM, FCM, NC, HNC and PCM) the variance is defined as the average squared distance to the centroid. For medoid-based cluster models (KMdd, FCMdd, NCdd, HNCdd and PCMdd) the variance is defined as average distance to the medoid. The variance for both mobile and fixed clusters is returned. Additionally, membership matrices may be defuzzified if <code>defuzzify=TRUE</code>.</p></li>
</ul></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A double value (for one cluster) or a vector of values, one per each cluster.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Miquel De Cáceres, CREAF</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="vegclust.html">vegclust</a></code>, <code><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></code>,<code><a href="defuzzify.html">defuzzify</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Loads data  </span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## This equals the chord transformation </span></span></span>
<span class="r-in"><span><span class="co">## (see also \code{\link{decostand}} in package 'vegan')</span></span></span>
<span class="r-in"><span><span class="va">wetland.chord</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span>, <span class="fl">1</span>, </span></span>
<span class="r-in"><span>                              <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create noise clustering with 3 clusters. Perform 10 starts from random seeds </span></span></span>
<span class="r-in"><span><span class="co">## and keep the best solution</span></span></span>
<span class="r-in"><span><span class="va">wetland.nc</span> <span class="op">=</span> <span class="fu"><a href="vegclust.html">vegclust</a></span><span class="op">(</span><span class="va">wetland.chord</span>, mobileCenters<span class="op">=</span><span class="fl">3</span>, m <span class="op">=</span> <span class="fl">1.2</span>, dnoise<span class="op">=</span><span class="fl">0.75</span>, </span></span>
<span class="r-in"><span>                      method<span class="op">=</span><span class="st">"NC"</span>, nstart<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of fuzzy clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.nc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2612616 0.2556519 0.2924117 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of fuzzy clusters after defuzzification</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.nc</span>, defuzzify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2478261 0.2379073 0.2875035 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Similar to the previous, this gets cluster variance of defuzzified (i.e. hard) clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.chord</span>, cluster<span class="op">=</span><span class="fu"><a href="defuzzify.html">defuzzify</a></span><span class="op">(</span><span class="va">wetland.nc</span><span class="op">)</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3         N </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2474883 0.2372548 0.2861120 0.7175326 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of K-means (i.e. hard) clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.chord</span>, cluster<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="va">wetland.chord</span>, centers<span class="op">=</span><span class="fl">3</span>, nstart<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1         2         3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4099091 0.3215797 0.4684155 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Miquel De Cáceres.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

